{% extends 'base.html' %}

{% block title %}{% endblock title %}

{% block content %}
    <main class = "h-main mb-12">
        <section class = "h-section">
                <div class = "h-trash">
                <a href="{% url 'garbages:gb-list' %}">
                    <img src="https://ifh.cc/g/3JnDas.png" class = "h-20 inline-block relative right-20">
                       쓰레기 정보
                    <img src="https://ifh.cc/g/3JnDas.png" class = "h-20 inline-block relative left-20">
                </a>
                </div>
                <div class = "h-refrm">
                    <div class = "h-trash ">
                        <br>
                    <a href="{% url 'garbages:rm-list' %}">
                        <img src="https://ifh.cc/g/JnyWGk.png" class = "h-20 inline-block relative right-20">
                            대체품 정보
                        <img src="https://ifh.cc/g/JnyWGk.png" class = "h-20 inline-block relative left-20">
                    </a>
                    </div>
                </div>
                <div class = "h-user">
                    <br>
                <a href="{% url 'histories:home' %}">
                    <img src="https://cdn-icons-png.flaticon.com/512/5673/5673087.png" class = "h-20 inline-block relative right-16">
                        사용정보 기록
                    <img src="https://cdn-icons-png.flaticon.com/512/5673/5673087.png " class = "h-20 inline-block relative left-20">
                </a>
                </div>
                <div class  = "h-cmty">
                    <br>
                <a href="{% url 'posts:home' %}">
                    <img src="https://cdn-icons-png.flaticon.com/512/4660/4660933.png " class = "h-20 inline-block relative right-24">
                        커뮤니티
                    <img src="https://cdn-icons-png.flaticon.com/512/4660/4660933.png " class = "h-20 inline-block relative left-24">
                </a>
                </div>
                {% if request.user.is_superuser %}
                <div class = "h-quizs">
                    <br>
                <a href="{% url 'quizs:home' %}">
                    <img src="https://cdn-icons-png.flaticon.com/512/4858/4858456.png " class = "h-20 inline-block relative right-24">
                        퀴즈 수정
                    <img src="https://cdn-icons-png.flaticon.com/512/4858/4858456.png " class = "h-20 inline-block relative left-24">
                </a>
                </div>
                {% else %}
                <div class = "h-quizs">
                    <br>
                <a href="{% url 'quizs:find' %}">
                    <img src="https://cdn-icons-png.flaticon.com/512/4858/4858456.png " class = "h-20 inline-block relative right-24">
                        퀴즈 풀기
                    <img src="https://cdn-icons-png.flaticon.com/512/4858/4858456.png " class = "h-20 inline-block relative left-24">
                </a>
                </div>
                {% endif %}
                </article> 
        </section>
        <div class="q-rank flex flex-col items-center rounded-xl">
            <div class="m-5 text-2xl border w-52 py-1 rounded-md ">퀴즈 리더보드</div>
            <ul class="w-full flex flex-col items-center">
                {% for user_dict in user_rank_list %}
    
                {% for rank, user in user_dict.items %}
                    
                    {% if rank == 1 %}
                        <li class="flex justify-between w-4/5 h-14 items-center bg-gray-50 px-2 rounded-lg mt-3">
                            <span class="rounded-lg w-9 h-9 flex justify-center items-center text-white" style="background-color: #ffd700">{{ rank }}</span>
                            <div class="w-52 flex justify-between mr-10">
                                <span class="w-32 text-left truncate text-gray-500">{{ user }}</span>
                                <span class="w-10 text-center text-gray-400">{{ user.exp }}점</span>
                            </div>
                        </li>
                    {% elif rank == 2 %}
                        <li class="flex justify-between w-4/5 h-14 items-center bg-gray-50 px-2 rounded-lg mt-3">
                            <span class="rounded-lg w-9 h-9 flex justify-center items-center text-white" style="background-color: #c0c0c0">{{ rank }}</span>
                            <div class="w-52 flex justify-between mr-10">
                                <span class="w-32 text-left truncate text-gray-500">{{ user }}</span>
                                <span class="w-10 text-center text-gray-400">{{ user.exp }}점</span>
                            </div>
                        </li>
                    {% elif rank == 3 %}
                        <li class="flex justify-between w-4/5 h-14 items-center bg-gray-50 px-2 rounded-lg mt-3">
                            <span class="rounded-lg w-9 h-9 flex justify-center items-center text-white" style="background-color: #cc8e34">{{ rank }}</span>
                            <div class="w-52 flex justify-between mr-10">
                                <span class="w-32 text-left truncate text-gray-500">{{ user }}</span>
                                <span class="w-10 text-center text-gray-400">{{ user.exp }}점</span>
                            </div>
                        </li>
                    {% else %}
                        <li class="flex justify-between w-4/5 h-14 items-center bg-gray-50 px-2 rounded-lg mt-3">
                            <span class="rounded-lg w-9 h-9 flex justify-center items-center text-white bg-gray-300">{{ rank }}</span>
                            <div class="w-52 flex justify-between mr-10">
                                <span class="w-32 text-left truncate text-gray-500">{{ user }}</span>
                                <span class="w-10 text-center text-gray-400">{{ user.exp }}점</span>
                            </div>
                        </li>
                    {% endif %}
                        
                {% endfor %}
                        
                {% endfor %}
                
            </ul>
        </div>
        
    </main>  
{% endblock content %}